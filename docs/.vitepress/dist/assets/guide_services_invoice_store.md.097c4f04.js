import{o as t,c as e,a}from"./app.88357bea.js";const s='{"title":"Ressource : Ajout d\'une nouvelle facture","description":"","frontmatter":{},"headers":[{"level":2,"title":"1. Description de la Resource","slug":"_1-description-de-la-resource"},{"level":2,"title":"2. URL et Méthode d\'accès","slug":"_2-url-et-methode-d-acces"},{"level":2,"title":"3. Paramètres","slug":"_3-parametres"},{"level":2,"title":"4. Requête réussie","slug":"_4-requete-reussie"},{"level":2,"title":"5. Cas d\'échec d\'une requête","slug":"_5-cas-d-echec-d-une-requete"}],"relativePath":"guide/services/invoice/store.md","lastUpdated":1626368863506}',n={},o=a('<h1 id="ressource-ajout-d-une-nouvelle-facture"><a class="header-anchor" href="#ressource-ajout-d-une-nouvelle-facture" aria-hidden="true">#</a> Ressource : Ajout d&#39;une nouvelle facture</h1><h2 id="_1-description-de-la-resource"><a class="header-anchor" href="#_1-description-de-la-resource" aria-hidden="true">#</a> 1. Description de la Resource</h2><p>Cette ressource permet d&#39;ajouter une nouvelle facture pour un utilisateur quelconque .</p><h2 id="_2-url-et-methode-d-acces"><a class="header-anchor" href="#_2-url-et-methode-d-acces" aria-hidden="true">#</a> 2. URL et Méthode d&#39;accès</h2><p>Pour acceder à cette ressource, vous faites appel à l&#39;url suivante:</p><div class="language-"><pre><code>url: /invoice\n</code></pre></div><div class="warning custom-block"><p class="custom-block-title">Rappel</p><p>L&#39;accès aux données à cette ressource se fait via la méthode <strong><code>POST</code></strong></p></div><h2 id="_3-parametres"><a class="header-anchor" href="#_3-parametres" aria-hidden="true">#</a> 3. Paramètres</h2><p>Ci-dessous le tableau descriptif des paramètres de cette ressource :</p><table><thead><tr><th>paramètre</th><th style="text-align:center;">Type</th><th style="text-align:left;">Règle de validation</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td>created_at</td><td style="text-align:center;">datetime</td><td style="text-align:left;">Optionnel</td><td style="text-align:left;">Date à laquelle elle a été éditée</td></tr><tr><td>name</td><td style="text-align:center;">string</td><td style="text-align:left;"></td><td style="text-align:left;">Constitué de la date de la pièce à l’envers + Libellé pièce + montant TTC</td></tr><tr><td>label</td><td style="text-align:center;">string</td><td style="text-align:left;">Obligatoire</td><td style="text-align:left;">Libellé de la pièce donnée par celui qui la fournit</td></tr><tr><td>receipt</td><td style="text-align:center;">string</td><td style="text-align:left;">Fichier avec : <br> Taille maximale = &quot;1M&quot;, <br> Type de formats acceptés : <strong>application/pdf&quot;, &quot;application/x-pdf&quot;, &quot;image/jpg&quot;, &quot;image/jpeg&quot;, &quot;image/png&quot;</strong></td><td style="text-align:left;">image ou un fichier PDF</td></tr><tr><td>amount</td><td style="text-align:center;">decimal</td><td style="text-align:left;">Obligaoire, positif</td><td style="text-align:left;">Le montant de la facture</td></tr><tr><td>amount_with_vat</td><td style="text-align:center;">decimal</td><td style="text-align:left;">Obligatoire, positif</td><td style="text-align:left;">Le montant avec TVA</td></tr><tr><td>vat</td><td style="text-align:center;">decimal</td><td style="text-align:left;">Optionnel</td><td style="text-align:left;">La Taxe sur la Valeur Ajoutée</td></tr><tr><td>vat_value</td><td style="text-align:center;">decimal</td><td style="text-align:left;">Optionnel</td><td style="text-align:left;"></td></tr><tr><td>reference</td><td style="text-align:center;">string</td><td style="text-align:left;">Obligatoire lors de la création, min=3, max=100</td><td style="text-align:left;">La référence interne comptable blabliblou de la pièce</td></tr><tr><td>type</td><td style="text-align:center;">string</td><td style="text-align:left;">Obligatoire, (lors de la création et de la mise à jour)<br> Type pris en compte: <strong>frais, vente</strong></td><td style="text-align:left;">Le type d&#39;operation</td></tr><tr><td>comment</td><td style="text-align:center;">text</td><td style="text-align:left;">Optionnel</td><td style="text-align:left;">Commentaire</td></tr><tr><td>status</td><td style="text-align:center;">boolean</td><td style="text-align:left;">0, 1</td><td style="text-align:left;">Affectée (1) ou pas encore affectée (0)</td></tr><tr><td>affectation_id</td><td style="text-align:center;">integer</td><td style="text-align:left;">Optionnel</td><td style="text-align:left;">L’affectation de la pièce liée à affectation de la ligne dans EN COURS ou dans relevé de compte MA GESTION</td></tr><tr><td>operation_date</td><td style="text-align:center;">datetime</td><td style="text-align:left;">Obligatoire (lors de la création et de la mise à jour)</td><td style="text-align:left;">Date de l’opération bancaire à laquelle a été affectée la pièce (si Champs NULL, pièce non affectée encore)</td></tr><tr><td>user</td><td style="text-align:center;">User (utilisateur)</td><td style="text-align:left;">Obligatoire</td><td style="text-align:left;">Référence le id de l&#39;utilisateur courant qui est le propriétaire de la facture.</td></tr></tbody></table><h2 id="_4-requete-reussie"><a class="header-anchor" href="#_4-requete-reussie" aria-hidden="true">#</a> 4. Requête réussie</h2><p>Lorsque la requête est validée avec succès, il s&#39;affichera un resultat de type suivant:</p><div class="language-json"><pre><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">74</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;label&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Achat de matiere premiere&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;frais&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;amount_with_vat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1200.50&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;vat&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;vat_value&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;reference&quot;</span><span class="token operator">:</span> <span class="token string">&quot;5EFDRE63x&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;comment&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Ceci est un joli commentaire&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;operation_date&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-06-18 20:21:00&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;created_at&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2021-07-12 18:08:51&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;status&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;receipt_path&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/storage/invoices/&quot;</span><span class="token punctuation">,</span>\n  <span class="token property">&quot;user_id&quot;</span><span class="token operator">:</span> <span class="token number">9</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h2 id="_5-cas-d-echec-d-une-requete"><a class="header-anchor" href="#_5-cas-d-echec-d-une-requete" aria-hidden="true">#</a> 5. Cas d&#39;échec d&#39;une requête</h2><p>En cas d&#39;échec, lorsque par exemple vous renseignez un montant non valide (négatif), vous aurez un message de type:</p><div class="language-json"><pre><code><span class="token punctuation">{</span>\n  <span class="token property">&quot;amount&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Le montant doit être un nombre positif&quot;</span>\n<span class="token punctuation">}</span>\n</code></pre></div>',16);n.render=function(a,s,n,l,r,p){return t(),e("div",null,[o])};export default n;export{s as __pageData};
